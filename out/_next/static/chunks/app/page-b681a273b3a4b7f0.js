(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1346:(e,t,a)=>{Promise.resolve().then(a.bind(a,2887))},2887:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ex});var r=a(5155),l=a(2115);function s(e){return"string"==typeof e?e:e.value}function n(e){let{value:t,options:a,onChange:l,placeholder:n="Select..."}=e;return(0,r.jsxs)("select",{multiple:!0,className:"select h-28",value:t,onChange:e=>{l(Array.from(e.target.selectedOptions).map(e=>e.value))},children:[!a.length&&(0,r.jsx)("option",{children:n}),a.map(e=>(0,r.jsx)("option",{value:s(e),disabled:"string"!=typeof e&&!!e.disabled,children:"string"==typeof e?e||"(blank)":e.label||e.value||"(blank)"},s(e)))]})}function i(e){let{label:t,min:a,max:l,value:s,onChange:n,rangeClassName:i=""}=e,[o,c]=s;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-1 flex items-center justify-between text-xs text-slate-600",children:[(0,r.jsx)("span",{children:t}),(0,r.jsxs)("span",{children:[o," - ",c]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"range",min:a,max:l,value:o,onChange:e=>n([Math.min(Number(e.target.value),c),c]),className:"w-full ".concat(i).trim()}),(0,r.jsx)("input",{type:"range",min:a,max:l,value:c,onChange:e=>n([o,Math.max(Number(e.target.value),o)]),className:"w-full ".concat(i).trim()})]})]})}function o(e){let{filters:t,years:a,journals:l,fields:s,types:o,onFilters:c,onReset:u}=e;return(0,r.jsxs)("aside",{className:"panel sticky top-16 h-[calc(100vh-5rem)] overflow-auto p-4",children:[(0,r.jsx)("h2",{className:"section-title mb-4",children:"Global Filters"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(i,{label:"Year range",min:a[0],max:a[1],value:t.yearRange,onChange:e=>c({yearRange:e})}),(0,r.jsx)(i,{label:"Woke score",min:1,max:10,value:t.scoreRange,onChange:e=>c({scoreRange:e}),rangeClassName:"accent-pink-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"label mb-1",children:"Discipline"}),(0,r.jsx)(n,{value:t.fields,options:s,onChange:e=>c({fields:e})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"label mb-1",children:"Journal"}),(0,r.jsx)(n,{value:t.journals,options:l,onChange:e=>c({journals:e})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"label mb-1",children:"Type"}),(0,r.jsx)(n,{value:t.types,options:o,onChange:e=>c({types:e})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"label mb-1",children:"Text Search"}),(0,r.jsx)("input",{className:"input",placeholder:"title or abstract",value:t.textQuery,onChange:e=>c({textQuery:e.target.value})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"btn-secondary w-full",onClick:u,children:"Reset Filters"})})]})]})}var c=a(5239),u=a(2619),d=a.n(u);let m=["overview","fields","journals","authors","keywords"],h={overview:"Overview",fields:"Disciplines",journals:"Journals",authors:"Authors",keywords:"Keywords"};function p(e){let{active:t,onChange:a}=e;return(0,r.jsxs)("nav",{className:"panel sticky top-0 z-10 mb-4 flex flex-wrap items-center justify-between gap-2 p-3",children:[(0,r.jsxs)("div",{className:"flex items-end gap-3",children:[(0,r.jsx)(c.default,{src:"/brand/woke-stamp.svg",alt:"WOKE",width:300,height:106,className:"h-9 w-auto sm:h-10 md:h-11",priority:!0}),(0,r.jsx)("div",{className:"pb-0.5",children:(0,r.jsx)("div",{className:"brand-business",children:"Business"})}),(0,r.jsx)("span",{className:"hidden text-[11px] font-semibold uppercase tracking-[0.11em] text-stone-600 sm:inline",children:"How Woke Is Business Academia, Really?"})]}),(0,r.jsxs)("div",{className:"menu-strip",children:[m.map((e,l)=>(0,r.jsxs)("span",{className:"contents",children:[l>0&&(0,r.jsx)("span",{className:"menu-sep",children:"|"}),(0,r.jsx)("button",{className:t===e?"menu-link menu-link-active":"menu-link",onClick:()=>a(e),children:h[e]})]},e)),(0,r.jsx)("span",{className:"menu-sep",children:"|"}),(0,r.jsx)(d(),{href:"/about",className:"menu-link",children:"About"})]})]})}function x(e){let{rows:t,mean:a,median:l,selectedYears:s,selectedJournalsCount:n,selectedFieldsCount:i}=e,o=[["Rows",t.toLocaleString()],["Mean Score",a.toFixed(2)],["Median Score",l.toFixed(2)],["Years",s],["Journal Filters",n.toString()],["Discipline Filters",i.toString()]];return(0,r.jsx)("section",{className:"panel mb-4 grid grid-cols-2 gap-3 p-3 md:grid-cols-6",children:o.map(e=>{let[t,a]=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:t}),(0,r.jsx)("div",{className:"text-lg font-semibold text-slate-900",children:a})]},t)})})}function f(e,t){if(t<=1)return[...e];let a=Math.floor(t/2);return e.map((t,r)=>{let l=Math.max(0,r-a),s=Math.min(e.length-1,r+a),n=e.slice(l,s+1);return n.reduce((e,t)=>e+t,0)/n.length})}function g(e,t){if(!e.length)return 0;let a=(e.length-1)*t,r=Math.floor(a),l=Math.ceil(a);return r===l?e[r]:e[r]+(e[l]-e[r])*(a-r)}function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,a=new Map;return e.forEach(e=>{e.keywordsList.forEach(e=>{var t;return a.set(e,(null!=(t=a.get(e))?t:0)+1)})}),[...a.entries()].sort((e,t)=>t[1]-e[1]).slice(0,t).map(e=>{let[t,a]=e;return{keyword:t,count:a}})}let w=(0,a(7909).default)(()=>a.e(629).then(a.bind(a,4629)),{loadableGenerated:{webpack:()=>[4629]},ssr:!1});function v(e){let{option:t,height:a=420,onEvents:l}=e;return(0,r.jsx)(w,{option:t,style:{height:a},notMerge:!0,lazyUpdate:!0,onEvents:l})}let y=["#1d4ed8","#2563eb","#3b82f6","#60a5fa","#93c5fd","#fca5a5","#f87171","#ef4444","#dc2626","#b91c1c"];function j(e){let{stats:t,smoothing:a}=e,l=t.map(e=>e.year),s=t.map(e=>e.mean),n=t.map(e=>e.ci95Low),i=t.map(e=>e.ci95High),o="none"===a?s:f(s,a),c="none"===a?n:f(n,a),u="none"===a?i:f(i,a),d=u.map((e,t)=>Math.max(0,e-c[t])),m=[...o,...c,...u],h=m.length?Math.min(...m):1,p=m.length?Math.max(...m):10,x=.2*Math.max(p-h,.6),g=Math.max(1,Number((h-x).toFixed(2))),b={animationDuration:400,tooltip:{trigger:"axis",formatter:e=>{var a,r;let l=t[null!=(r=null==e||null==(a=e[0])?void 0:a.dataIndex)?r:0],s=["Year: ".concat(l.year),"Papers: ".concat(l.count),"Mean: ".concat(l.mean.toFixed(2))];return s.push("95% Interval: ".concat(l.ci95Low.toFixed(2)," - ").concat(l.ci95High.toFixed(2))),s.join("<br/>")}},legend:{top:0,data:["Mean","95% Interval"]},grid:{left:36,right:20,top:42,bottom:28},xAxis:{type:"category",data:l},yAxis:{type:"value",min:g,max:Math.min(10,Number((p+x).toFixed(2))),splitArea:{show:!0,areaStyle:{color:["rgba(29, 78, 216, 0.04)","rgba(37, 99, 235, 0.035)","rgba(59, 130, 246, 0.03)","rgba(96, 165, 250, 0.025)","rgba(147, 197, 253, 0.02)","rgba(252, 165, 165, 0.02)","rgba(248, 113, 113, 0.025)","rgba(239, 68, 68, 0.03)","rgba(220, 38, 38, 0.035)","rgba(185, 28, 28, 0.04)"]}}},series:[{name:"95% Lower",type:"line",stack:"ci95",lineStyle:{opacity:0},symbol:"none",data:c,tooltip:{show:!1},emphasis:{disabled:!0}},{name:"95% Interval",type:"line",stack:"ci95",lineStyle:{opacity:0},areaStyle:{color:{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"rgba(29, 78, 216, 0.18)"},{offset:.5,color:"rgba(148, 163, 184, 0.12)"},{offset:1,color:"rgba(185, 28, 28, 0.18)"}]}},symbol:"none",data:d},{name:"Mean",type:"line",smooth:!0,lineStyle:{width:3,color:{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"#1d4ed8"},{offset:.5,color:"#93c5fd"},{offset:.7,color:"#fca5a5"},{offset:1,color:"#b91c1c"}]}},itemStyle:{color:e=>(function(e){let t=Math.min(10,Math.max(1,e)),a=Math.min(y.length-1,Math.max(0,Math.round(t)-1));return y[a]})(Number(e.value))},symbolSize:6,data:o}]};return(0,r.jsx)(v,{option:b,height:420})}function N(e){let{years:t,series:a,yLabel:l}=e,s={tooltip:{trigger:"axis",formatter:e=>{var t,a;let r=null!=(a=null==e||null==(t=e[0])?void 0:t.axisValueLabel)?a:"",l=["Year: ".concat(r)];return(null!=e?e:[]).forEach(e=>{var t;let a="number"==typeof e.value?e.value.toFixed(4):"N/A";l.push("".concat(null!=(t=e.marker)?t:"").concat(e.seriesName,": ").concat(a))}),l.join("<br/>")}},legend:{type:"plain",top:0,left:"center"},grid:{left:70,right:20,top:72,bottom:28},xAxis:{type:"category",data:t},yAxis:{type:"value",name:l,nameLocation:"middle",nameGap:52},series:a.map(e=>({name:e.field,type:"line",smooth:!0,connectNulls:!0,data:e.points.map(e=>e.value)}))};return(0,r.jsx)(v,{option:s,height:420})}function M(e){let{years:t,series:a,yLabel:l}=e,s=a.map(e=>e.journal),n=s.length>18?3:s.length>8?2:1,i={tooltip:{trigger:"axis",formatter:e=>{var t,a;let r=null!=(a=null==e||null==(t=e[0])?void 0:t.axisValueLabel)?a:"",l=["Year: ".concat(r)];return(null!=e?e:[]).forEach(e=>{var t;let a="number"==typeof e.value?e.value.toFixed(4):"N/A";l.push("".concat(null!=(t=e.marker)?t:"").concat(e.seriesName,": ").concat(a))}),l.join("<br/>")}},legend:(function(e,t){if(t<=1||e.length<=1)return[e];let a=Math.floor(e.length/t),r=e.length%t,l=[],s=0;for(let n=0;n<t;n+=1){let t=a+ +(n<r);l.push(e.slice(s,s+t)),s+=t}return l.filter(e=>e.length)})(s,n).map((e,t)=>({type:"plain",orient:"horizontal",top:24*t,left:"center",itemGap:14,data:e})),grid:{left:70,right:20,top:56+24*n,bottom:28},xAxis:{type:"category",data:t},yAxis:{type:"value",name:l,nameLocation:"middle",nameGap:52},series:a.map(e=>({name:e.journal,type:"line",smooth:!0,connectNulls:!0,data:e.points.map(e=>e.value)}))};return(0,r.jsx)(v,{option:i,height:420})}let k={AMJ:"Academy of Management Journal",AMR:"Academy of Management Review",ASQ:"Administrative Science Quarterly",ISR:"Information Systems Research",JAE:"Journal of Accounting and Economics",JAR:"Journal of Accounting Research",JCR:"Journal of Consumer Research",JF:"Journal of Finance",JFE:"Journal of Financial Economics",JIBS:"Journal of International Business Studies",JM:"Journal of Marketing",JMR:"Journal of Marketing Research",JOC:"INFORMS Journal on Computing",JOM:"Journal of Operations Management",MISQ:"MIS Quarterly",MKS:"Marketing Science",MS:"Management Science",MSOM:"Manufacturing & Service Operations Management",OR:"Operations Research",OS:"Organization Science",POM:"Production and Operations Management",RFS:"Review of Financial Studies",SMJ:"Strategic Management Journal",TAR:"The Accounting Review"};function S(e){let{rows:t,minPubs:a,selectedAuthor:s,onMinPubs:n,onSelectAuthor:i}=e,[o,c]=(0,l.useState)(20),[u,d]=(0,l.useState)(5),[m,h]=(0,l.useState)({}),[p,x]=(0,l.useState)(null),[f,g]=(0,l.useState)(null),b=(0,l.useMemo)(()=>(function(e,t){let a=new Map;return e.forEach(e=>{[...new Set(e.authorsList)].forEach(t=>{var r;let l=null!=(r=a.get(t))?r:[];l.push(e.woke_score),a.set(t,l)})}),[...a.entries()].map(e=>{let[t,a]=e,r=[...a].sort((e,t)=>e-t),l=r.length,s=r.reduce((e,t)=>e+t,0),n=l?s/l:0,i=Math.sqrt(l>1?r.reduce((e,t)=>e+(t-n)**2,0)/(l-1):0),o=l?i/Math.sqrt(l):0,c=Math.max(1,n-1.96*o),u=Math.min(10,n+1.96*o);return{author:t,count:l,mean:n,stdev:i,ci95Low:c,ci95High:u}}).filter(e=>e.count>=t).sort((e,t)=>t.mean-e.mean||t.count-e.count)})(t,a),[t,a]),w=(0,l.useMemo)(()=>s?function(e,t){let a=e.filter(e=>e.authorsList.includes(t)).map(e=>({title:e.title,vol:e.vol,iss:e.iss,year:e.year,abstract:e.abstract,woke_score:e.woke_score,keywords:e.keywordsList,justification:e.justification,url:e.url,journal:e.journal,field:e.field,author:e.author,authorsList:e.authorsList})),r=[...a].sort((e,t)=>t.woke_score-e.woke_score);return{timeline:a.map(e=>({year:e.year,score:e.woke_score,title:e.title,url:e.url})),ranked:r}}(t,s):null,[t,s]),y=b.slice(0,o),j=o<b.length,N=(0,l.useMemo)(()=>w?w.ranked.map((e,t)=>({rankedIndex:t,year:e.year,score:e.woke_score,citation:function(e){var t;let a=(null!=(t=e.authorsList[0])?t:"Unknown").trim();if(!a)return"(Unknown, ".concat(e.year,")");if(/et\s+al\.?$/i.test(a))return"(".concat(a,", ").concat(e.year,")");let r=function(e){let t=e.replace(/\bet\s+al\.?$/i,"").trim().split(/\s+/).filter(Boolean);if(!t.length)return"Unknown";let a=t[t.length-1];return a.replace(/[^A-Za-zÀ-ÖØ-öø-ÿ'’-]/g,"")||a}(a);return e.authorsList.length>1?"(".concat(r," et al., ").concat(e.year,")"):"(".concat(r,", ").concat(e.year,")")}(e)})).sort((e,t)=>e.year-t.year||e.score-t.score||e.rankedIndex-t.rankedIndex):[],[w]),M=(0,l.useMemo)(()=>{if(!N.length)return{min:2e3,max:2024,interval:1};let e=N.map(e=>e.year),t=Math.min(...e),a=Math.max(...e);if(t===a)return{min:t-1,max:a+1,interval:1};let r=Math.max(1,Math.ceil((a-t)/10));return{min:t,max:a,interval:r}},[N]);(0,l.useEffect)(()=>{c(20)},[t,a]),(0,l.useEffect)(()=>{d(5),h({}),x(null),g(null)},[s]),(0,l.useEffect)(()=>{if(!f)return;let e=document.getElementById(f);e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),g(null))},[f,u,w]);let S=w?{tooltip:{trigger:"item",formatter:e=>{var t,a,r,l,s;return"".concat(null!=(r=null==e||null==(t=e.data)?void 0:t.citation)?r:""," ").concat(Number.isFinite(s=Number(null!=(l=null==e||null==(a=e.data)?void 0:a.score)?l:0))?Number.isInteger(s)?String(s):s.toFixed(2):"")}},xAxis:{type:"value",name:"Year",minInterval:1,interval:M.interval,min:M.min,max:M.max,axisLabel:{formatter:e=>String(Math.round(e))},axisPointer:{label:{formatter:e=>{var t;return String(Math.round(Number(null!=(t=null==e?void 0:e.value)?t:0)))}}}},yAxis:{type:"value",min:1,max:10},series:[{type:"scatter",symbolSize:8,data:N.map(e=>{var t;return{value:[e.year,e.score],score:e.score,citation:e.citation,rankedIndex:e.rankedIndex,itemStyle:{color:(t=e.score)>=9?"#b91c1c":t>=8?"#dc2626":t>=7?"#ef4444":t>=6?"#fca5a5":t>=5?"#fed7aa":t>=4?"#bae6fd":t>=3?"#93c5fd":"#3b82f6"}}})}]}:null;return(0,r.jsxs)("section",{className:"panel p-4",id:"authors",children:[(0,r.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"section-title",children:"Author Woke Meter"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsxs)("span",{children:["Min pubs: ",a]}),(0,r.jsx)("input",{type:"range",min:1,max:20,value:a,onChange:e=>n(Number(e.target.value))})]})]}),(0,r.jsx)("div",{className:"space-y-3",children:y.map((e,t)=>(0,r.jsx)("button",{className:"w-full rounded-lg border border-slate-200 bg-white p-3 text-left hover:bg-slate-50",onClick:()=>i(e.author),children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsxs)("div",{className:"w-10 shrink-0 pt-0.5 text-right text-sm font-semibold text-slate-500",children:["#",t+1]}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,r.jsxs)("div",{className:"min-w-0 flex flex-wrap items-center gap-x-3 gap-y-1",children:[(0,r.jsx)("div",{className:"truncate text-sm font-semibold text-slate-900 md:text-base",children:e.author}),(0,r.jsxs)("div",{className:"text-xs font-medium text-slate-600",children:["# papers: ",e.count]})]}),(0,r.jsxs)("div",{className:"rounded px-2 py-1 text-xs font-semibold ".concat(A(e.mean)),children:["Mean: ",e.mean.toFixed(2)]})]}),(0,r.jsx)(C,{stat:e})]})]})},e.author))}),j&&(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)("button",{className:"btn-secondary w-full md:w-auto",onClick:()=>c(e=>e+20),children:"More"})}),s&&w&&S&&(0,r.jsx)("div",{className:"fixed inset-0 z-20 flex items-center justify-center bg-black/35 p-4",children:(0,r.jsxs)("div",{className:"panel max-h-[90vh] w-full max-w-5xl overflow-auto p-4",children:[(0,r.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold",children:s}),(0,r.jsx)("button",{className:"btn-secondary",onClick:()=>i(null),children:"Close"})]}),(0,r.jsx)(v,{option:S,height:240,onEvents:{click:e=>{var t;let a=Number(null==e||null==(t=e.data)?void 0:t.rankedIndex);if(!Number.isFinite(a)||a<0)return;let r=5*Math.ceil((a+1)/5);d(e=>Math.max(e,r)),g("author-paper-".concat(a))}}}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("div",{className:"mb-2 font-semibold",children:"Top papers"}),(0,r.jsx)("div",{className:"space-y-3",children:w.ranked.slice(0,u).map((e,t)=>{var a,l;let s="author-paper-".concat(t),n=!!m[s],i=e.abstract.trim()||"No abstract available.",o=i.length>220?"".concat(i.slice(0,220).trimEnd(),"..."):i;return(0,r.jsxs)("article",{id:s,className:"rounded-lg border border-slate-200 bg-white p-4",children:[(0,r.jsxs)("div",{className:"mb-2 flex flex-wrap items-start justify-between gap-2",children:[(0,r.jsxs)("div",{className:"text-sm text-slate-500",children:["#",t+1]}),(0,r.jsxs)("div",{className:"ml-auto flex flex-wrap items-center gap-2",children:[(0,r.jsxs)("div",{className:"rounded px-2 py-1 text-sm font-semibold ".concat(A(e.woke_score)),children:["Woke score: ",e.woke_score]}),(0,r.jsx)("button",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-violet-300 bg-violet-100 text-lg font-bold leading-none text-violet-700 hover:bg-violet-200",onClick:()=>x(e),"aria-label":"Explain woke score",title:"Explain",children:"?"})]})]}),(0,r.jsx)("h4",{className:"text-base font-semibold text-slate-900",children:e.url?(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"text-slate-900 underline",children:e.title}):e.title}),(0,r.jsxs)("div",{className:"mt-1 text-sm font-semibold text-slate-900",children:["Journal: ",e.journal?null!=(l=k[String(null!=(a=e.journal)?a:"").trim().toUpperCase()])?l:String(null!=a?a:"").trim():"-"]}),(0,r.jsxs)("div",{className:"mt-1 text-sm text-slate-600",children:["Year: ",e.year," | Volume: ",e.vol||"-"," | Issue: ",e.iss||"-"]}),(0,r.jsx)("div",{className:"mt-1 text-sm text-slate-700",children:e.authorsList.length?e.authorsList.join(", "):"No listed authors"}),(0,r.jsxs)("div",{className:"mt-3 text-sm text-slate-700",children:[(0,r.jsx)("span",{className:"font-semibold text-slate-900",children:"Abstract: "}),n?i:o,i.length>220&&(0,r.jsx)("button",{className:"ml-2 text-teal-700 underline",onClick:()=>h(e=>({...e,[s]:!e[s]})),children:n?"show less":"show more"})]})]},s)})}),u<w.ranked.length&&(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)("button",{className:"btn-secondary w-full md:w-auto",onClick:()=>d(e=>e+5),children:"More"})})]})]})}),p&&(0,r.jsx)("div",{className:"fixed inset-0 z-30 flex items-center justify-center bg-black/40 p-4",children:(0,r.jsxs)("div",{className:"max-h-[80vh] w-full max-w-2xl overflow-auto rounded-xl bg-white p-4 shadow-xl",children:[(0,r.jsxs)("div",{className:"mb-2 flex items-start justify-between gap-3",children:[(0,r.jsxs)("div",{className:"rounded px-2 py-1 text-sm font-semibold ".concat(A(p.woke_score)),children:["Woke Score: ",p.woke_score]}),(0,r.jsx)("button",{className:"btn-secondary",onClick:()=>x(null),children:"Close"})]}),(0,r.jsx)("div",{className:"mb-1 text-sm font-semibold text-slate-900",children:"Title"}),(0,r.jsx)("div",{className:"mb-3 text-base font-semibold text-slate-900",children:p.title}),(0,r.jsxs)("div",{className:"mb-2 text-sm",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Signal words: "}),p.keywords.length?p.keywords.slice(0,20).join(", "):"None"]}),(0,r.jsxs)("div",{className:"text-sm text-slate-700",children:[(0,r.jsx)("span",{className:"font-semibold text-slate-900",children:"Explanation: "}),p.justification||"No explanation available."]})]})})]})}function C(e){var t;let{stat:a}=e,l=R(a.ci95Low),s=R(a.ci95High),n=R(a.mean),i=Math.max(1.5,s-l),o="Mean ".concat(a.mean.toFixed(4)," | 95% CI ").concat(a.ci95Low.toFixed(4)," - ").concat(a.ci95High.toFixed(4));return(0,r.jsxs)("div",{className:"mt-2 rounded-md border border-slate-200 bg-slate-50 p-2",children:[(0,r.jsxs)("div",{className:"relative h-6",children:[(0,r.jsx)("div",{className:"absolute top-1/2 h-0.5 w-full -translate-y-1/2 bg-slate-300"}),(0,r.jsx)("div",{className:"group absolute top-1/2 h-1.5 -translate-y-1/2 cursor-help rounded ".concat((t=a.mean)>=9?"bg-red-700/70":t>=8?"bg-red-600/65":t>=7?"bg-red-500/60":t>=6?"bg-red-300/65":t>=5?"bg-orange-200/75":t>=4?"bg-sky-200/80":t>=3?"bg-blue-300/75":"bg-blue-500/70"),style:{left:"".concat(l,"%"),width:"".concat(i,"%")},title:o,"aria-label":o,children:(0,r.jsx)("div",{className:"pointer-events-none absolute -top-7 left-1/2 hidden -translate-x-1/2 whitespace-nowrap rounded bg-slate-900 px-2 py-1 text-[11px] text-white group-hover:block",children:o})}),(0,r.jsx)("div",{className:"pointer-events-none absolute top-1/2 h-3 w-0.5 -translate-x-1/2 -translate-y-1/2 bg-slate-500",style:{left:"".concat(l,"%")}}),(0,r.jsx)("div",{className:"pointer-events-none absolute top-1/2 h-3 w-0.5 -translate-x-1/2 -translate-y-1/2 bg-slate-500",style:{left:"".concat(s,"%")}}),(0,r.jsx)("div",{className:"absolute top-1/2 h-5 w-0.5 -translate-x-1/2 -translate-y-1/2 bg-slate-900",style:{left:"".concat(n,"%")}})]}),(0,r.jsxs)("div",{className:"mt-1 flex justify-between text-[11px] text-slate-500",children:[(0,r.jsx)("span",{children:"1"}),(0,r.jsx)("span",{children:"10"})]})]})}function R(e){return(Math.min(10,Math.max(1,e))-1)/9*100}function A(e){return e>=9?"bg-red-700 text-white":e>=8?"bg-red-600 text-white":e>=7?"bg-red-500 text-white":e>=6?"bg-red-300 text-red-900":e>=5?"bg-orange-200 text-orange-900":e>=4?"bg-sky-200 text-sky-900":e>=3?"bg-blue-300 text-blue-900":"bg-blue-500 text-white"}function L(e){let{globalRows:t,journal:a,journals:s,onJournal:n}=e,[i,o]=(0,l.useState)(10),[c,u]=(0,l.useState)({}),[d,m]=(0,l.useState)(null),h=(0,l.useMemo)(()=>[...t.filter(e=>e.journal===a)].sort((e,t)=>t.woke_score-e.woke_score),[t,a]);(0,l.useEffect)(()=>{s.length&&!s.includes(a)&&n(s[0])},[s,a,n]),(0,l.useEffect)(()=>{o(10),u({})},[a,t.length]);let p=h.slice(0,i),x=i<h.length;return(0,r.jsxs)("section",{className:"panel p-4",id:"journals",children:[(0,r.jsxs)("div",{className:"mb-3 flex flex-wrap items-center gap-3",children:[(0,r.jsx)("h3",{className:"section-title",children:"Journal Internal Ranking"}),(0,r.jsx)("select",{value:a,className:"select max-w-64",onChange:e=>n(e.target.value),children:s.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-2 text-sm text-slate-600",children:["Matched papers: ",h.length]}),(0,r.jsx)("div",{className:"space-y-3",children:p.map((e,t)=>{let a="".concat(e.title,"-").concat(e.year,"-").concat(t),l=!!c[a],s=e.abstract.trim()||"No abstract available.",n=s.length>220?"".concat(s.slice(0,220).trimEnd(),"..."):s;return(0,r.jsxs)("article",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[(0,r.jsxs)("div",{className:"mb-2 flex flex-wrap items-start justify-between gap-2",children:[(0,r.jsxs)("div",{className:"text-sm text-slate-500",children:["#",t+1]}),(0,r.jsxs)("div",{className:"ml-auto flex flex-wrap items-center gap-2",children:[(0,r.jsxs)("div",{className:"rounded px-2 py-1 text-sm font-semibold ".concat(E(e.woke_score)),children:["Woke score: ",e.woke_score]}),(0,r.jsx)("button",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-violet-300 bg-violet-100 text-lg font-bold leading-none text-violet-700 hover:bg-violet-200",onClick:()=>m(e),"aria-label":"Explain woke score",title:"Explain",children:"?"})]})]}),(0,r.jsx)("h4",{className:"text-base font-semibold text-slate-900",children:e.url?(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"text-slate-900 underline",children:e.title}):e.title}),(0,r.jsxs)("div",{className:"mt-1 text-sm text-slate-600",children:["Year: ",e.year," | Volume: ",e.vol||"-"," | Issue: ",e.iss||"-"]}),(0,r.jsx)("div",{className:"mt-1 text-sm text-slate-700",children:e.authorsList.length?e.authorsList.join(", "):"No listed authors"}),(0,r.jsxs)("div",{className:"mt-3 text-sm text-slate-700",children:[(0,r.jsx)("span",{className:"font-semibold text-slate-900",children:"Abstract: "}),l?s:n,s.length>220&&(0,r.jsx)("button",{className:"ml-2 text-teal-700 underline",onClick:()=>{u(e=>({...e,[a]:!e[a]}))},children:l?"show less":"show more"})]})]},a)})}),x&&(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)("button",{className:"btn-secondary w-full md:w-auto",onClick:()=>o(e=>e+10),children:"More"})}),d&&(0,r.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 p-4",children:(0,r.jsxs)("div",{className:"max-h-[80vh] w-full max-w-2xl overflow-auto rounded-xl bg-white p-4 shadow-xl",children:[(0,r.jsxs)("div",{className:"mb-2 flex items-start justify-between gap-3",children:[(0,r.jsxs)("div",{className:"rounded px-2 py-1 text-sm font-semibold ".concat(E(d.woke_score)),children:["Woke Score: ",d.woke_score]}),(0,r.jsx)("button",{className:"btn-secondary",onClick:()=>m(null),children:"Close"})]}),(0,r.jsx)("div",{className:"mb-1 text-sm font-semibold text-slate-900",children:"Title"}),(0,r.jsx)("div",{className:"mb-3 text-base font-semibold text-slate-900",children:d.title}),(0,r.jsxs)("div",{className:"mb-2 text-sm",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Signal words: "}),d.keywordsList.length?d.keywordsList.slice(0,20).join(", "):"None"]}),(0,r.jsxs)("div",{className:"text-sm text-slate-700",children:[(0,r.jsx)("span",{className:"font-semibold text-slate-900",children:"Explanation: "}),d.justification||"No explanation available."]})]})})]})}function E(e){return e>=9?"bg-red-700 text-white":e>=8?"bg-red-600 text-white":e>=7?"bg-red-500 text-white":e>=6?"bg-red-300 text-red-900":e>=5?"bg-orange-200 text-orange-900":e>=4?"bg-sky-200 text-sky-900":e>=3?"bg-blue-300 text-blue-900":"bg-blue-500 text-white"}function F(e){let{keyword:t,points:a,metric:l,color:s="#0f766e",onYearClick:n}=e,i=a.map(e=>e.year),o="raw"===l?a.map(e=>e.count):a.map(e=>e.normalizedPer1k);return(0,r.jsx)(v,{option:{tooltip:{trigger:"axis",formatter:e=>{var t,r;let l=a[null!=(r=null==e||null==(t=e[0])?void 0:t.dataIndex)?r:0];return"Year: ".concat(l.year,"<br/>Count: ").concat(l.count,"<br/>Per 1k papers: ").concat(l.normalizedPer1k.toFixed(2))}},xAxis:{type:"category",data:i},yAxis:{type:"value",name:"raw"===l?"Count":"Per 1k"},grid:{left:45,right:20,top:25,bottom:30},series:[{name:t,type:"bar",itemStyle:{color:s,opacity:.78},emphasis:{disabled:!0,itemStyle:{color:s,opacity:.78}},blur:{itemStyle:{opacity:.78}},data:o}]},height:360,onEvents:{click:e=>{var t;let a=i[null!=(t=null==e?void 0:e.dataIndex)?t:-1];n&&a&&n(a)}}})}function _(e,t){let a=Math.max(1,t),r=Math.round(360*(a<=1?0:e/(a-1)));return"hsl(".concat(r," 78% 44%)")}function J(e){var t;let{rows:a,selectedKeyword:s,selectedKeywordColor:n,metric:i,precomputedSeries:o,onKeyword:c,onMetric:u,onYearClick:d}=e,m=(0,l.useMemo)(()=>o?Object.entries(o).map(e=>{let[t,a]=e;return{keyword:t,count:a.reduce((e,t)=>e+t.count,0)}}).sort((e,t)=>t.count-e.count):b(a,500),[a,o]),h=!!s&&m.some(e=>e.keyword===s),p=h?s:(null==(t=m[0])?void 0:t.keyword)||"",x=_(Math.max(0,p?m.findIndex(e=>e.keyword===p):-1),Math.max(1,m.length)),f=(0,l.useMemo)(()=>{if(!p)return[];if(o){var e;return(null!=(e=o[p])?e:[]).map(e=>({year:e.year,count:e.count,normalizedPer1k:e.per1k}))}let t=new Map,r=new Map;return a.forEach(e=>{var a,l;t.set(e.year,(null!=(a=t.get(e.year))?a:0)+1),e.keywordsList.includes(p)&&r.set(e.year,(null!=(l=r.get(e.year))?l:0)+1)}),[...t.keys()].sort((e,t)=>e-t).map(e=>{var a,l;let s=null!=(a=t.get(e))?a:0,n=null!=(l=r.get(e))?l:0;return{year:e,count:n,normalizedPer1k:s?n/s*1e3:0,totalPapers:s}})},[a,p,o]);return(0,r.jsxs)("section",{className:"panel p-4",id:"keywords",children:[(0,r.jsxs)("div",{className:"mb-3 flex flex-wrap items-center gap-3",children:[(0,r.jsx)("h3",{className:"section-title",children:"Keyword Frequency Over Time"}),(0,r.jsx)("input",{list:"keyword-options",className:"input max-w-64",placeholder:"Select keyword",value:p,onChange:e=>c(e.target.value.toLowerCase())}),(0,r.jsx)("datalist",{id:"keyword-options",children:m.map(e=>(0,r.jsx)("option",{value:e.keyword},e.keyword))}),(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("input",{type:"radio",checked:"raw"===i,onChange:()=>u("raw")}),"Raw counts"]}),(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("input",{type:"radio",checked:"normalized"===i,onChange:()=>u("normalized")}),"Per 1k"]})]}),p?(0,r.jsx)(F,{keyword:p,points:f,metric:i,color:h&&n?n:x,onYearClick:d}):(0,r.jsx)("div",{className:"text-sm text-slate-600",children:"No keyword available for current filters."})]})}function I(e,t){return!(e.x+e.width<=t.x||t.x+t.width<=e.x||e.y+e.height<=t.y||t.y+t.height<=e.y)}function z(e,t){return{width:Math.max(1.8*t,e.length*t*.56),height:1.18*t}}function O(e,t){let a=e,r=1,l=0;for(;a>0;)r/=t,l+=a%t*r,a=Math.floor(a/t);return l}function $(e){let{words:t,onClick:a}=e,s=(0,l.useRef)(null),[n,i]=(0,l.useState)({width:880,height:360}),[o,c]=(0,l.useState)(!1),[u,d]=(0,l.useState)(17);(0,l.useEffect)(()=>{if(!s.current)return;let e=()=>{var e,t;i({width:Math.max(320,Math.round(null!=(t=null==(e=s.current)?void 0:e.clientWidth)?t:880)),height:360})};e();let t=new ResizeObserver(e);return t.observe(s.current),()=>t.disconnect()},[]),(0,l.useEffect)(()=>{d(Math.floor(997*Math.random())+1),c(!1);let e=window.setTimeout(()=>c(!0),20);return()=>window.clearTimeout(e)},[t]);let m=(0,l.useMemo)(()=>[...t].sort((e,t)=>t.value-e.value).slice(0,80),[t]),h=(0,l.useMemo)(()=>(function(e,t,a,r){let l=e.length?Math.max(...e.map(e=>e.value)):1,s=e.length?Math.min(...e.map(e=>e.value)):0,n=Math.max(1e-9,l-s),i=Math.max(10,t-28),o=Math.max(10,a-28),c=[];return e.forEach((l,u)=>{let d=11+24*Math.pow(Math.max(0,(l.value-s)/n),.8),m=null,h=14+O(u+1+r,2)*i,p=14+O(u+1+r,3)*o;for(let r=0;r<4&&!m;r+=1){let s=Math.max(10,d*(1-.1*r)),{width:n,height:i}=z(l.text,s);for(let r=0;r<1800;r+=1){let o=Math.floor(r/28),d=r%28/28*Math.PI*2+.17*u,x=4*o,f={x:h+Math.cos(d)*x-n/2,y:p+Math.sin(d)*x-i/2,width:n,height:i};if(!(f.x<14)&&!(f.y<14)&&!(f.x+f.width>t-14)&&!(f.y+f.height>a-14)&&!c.some(e=>I(e.box,f))){m={...l,x:f.x,y:f.y,fontSize:s,color:_(u,e.length),delayMs:Math.min(500,12*u),box:f};break}}}if(!m){let r=Math.max(10,.85*d),{width:s,height:n}=z(l.text,r),i=t/2,o=a/2;for(let d=0;d<2200;d+=1){let h=d/2200,p=.33*d,x=.55*Math.min(t,a)*Math.sqrt(h),f={x:i+Math.cos(p)*x-s/2,y:o+Math.sin(p)*x-n/2,width:s,height:n};if(!(f.x<14)&&!(f.y<14)&&!(f.x+f.width>t-14)&&!(f.y+f.height>a-14)&&!c.some(e=>I(e.box,f))){m={...l,x:f.x,y:f.y,fontSize:r,color:_(u,e.length),delayMs:Math.min(500,12*u),box:f};break}}}m&&c.push(m)}),c.map(e=>{let{box:t,...a}=e;return a})})(m,n.width,n.height,u),[m,n.width,n.height,u]);return(0,r.jsx)("div",{ref:s,className:"min-h-64 rounded-xl border border-slate-200 bg-gradient-to-br from-white via-slate-50 to-slate-100 p-2",children:h.length?(0,r.jsx)("div",{className:"relative h-[360px] overflow-hidden",children:h.map(e=>{var t;return(0,r.jsx)("button",{className:"absolute whitespace-nowrap bg-transparent px-1 text-left font-semibold tracking-tight",style:{left:"".concat(e.x,"px"),top:"".concat(e.y,"px"),fontSize:"".concat(e.fontSize,"px"),color:e.color,textShadow:"0 1px 0 rgba(255,255,255,0.85)",opacity:+!!o,transform:o?"translateY(0) scale(1)":"translateY(6px) scale(0.96)",transition:"opacity 320ms ease, transform 360ms ease",transitionDelay:"".concat(e.delayMs,"ms")},title:null!=e.earlyRate?"Early ".concat(e.earlyRate.toFixed(2)," / Late ").concat(null==(t=e.lateRate)?void 0:t.toFixed(2)):"Count: ".concat(e.value),onClick:()=>null==a?void 0:a(e.text,e.color),children:e.text},e.text)})}):(0,r.jsx)("div",{className:"grid h-64 place-items-center text-sm text-slate-500",children:"No keywords for current filters."})})}function P(e){let{rows:t,onKeywordClick:a}=e,s=(0,l.useMemo)(()=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80;return b(e,t).map(e=>({text:e.keyword,value:e.count}))})(t,80),[t]);return(0,r.jsxs)("section",{className:"panel p-4",children:[(0,r.jsx)("div",{className:"mb-3 flex flex-wrap items-center gap-3",children:(0,r.jsx)("h3",{className:"section-title",children:"Word Cloud"})}),(0,r.jsx)($,{words:s,onClick:a})]})}var K=a(9349),B=a.n(K),T=a(5704);let W=["Search for more papers by this author","Author links open overlay panel","Search for other works by this author on:","Search for other works by this author","View all authors","See all authors","all authors","Author Notes","Oxford Academic","PubMed","Google Scholar"],Z=new Set(["de","del","da","di","la","le","van","von","bin","al","el","der","den","ter","ten","dos","das","du","st","st."]),U=new Set(["the","of","university","college","school","department","institute","center","centre","office","program","programme","faculty","campus","academy","hospital","laboratory","lab","management","business","economics","policy","studies","study","relations","sustainability","association","journal","site","this","organization","organizations","editor","editorial","article","author","authors","correspondence","corresponding","notes","search","works","scholar","pubmed","google","engineering","systems","operations","information","industrial","environmental","computer","research","science","sciences","technology","technological","bureau","council","commission","exchange","state","estate","organizational","behavior","statistics","relationship","banking","evidence","form","we","nber","cepr"]),Y=RegExp("\\b(?:".concat("University|College|School|Department|Institute|Center|Centre|Faculty|Hospital|Campus|Program|Programme|Academy|Laboratory|Lab|Office",")\\b"),"i"),D="__AFF_GLUE__",H=new Set(["MS","OR","OS","JOC","MKS","MSOM","ISR","MISQ","JOM"]),V=new Set(["new","york","united","kingdom","states","north","south","east","west","los","angeles","hong","kong","carolina","jersey","hill","haven","lansing","gables","lafayette","san","diego","francisco","cambridge","rotterdam","iowa","bay","arbor","national","federal","political","humanities","reserve","bank","nber","cepr"]),Q=new Set(["jr","jr.","sr","sr.","ii","iii","iv","v","vi"]),q="(?:III|II|IV|VI|V|Jr\\.?|Sr\\.?)";function G(e){return Q.has(e.toLowerCase())}function X(e){return e.normalize("NFKD").replace(RegExp("\\p{M}+","gu"),"").replace(/[\u2010-\u2015\u2212]/g,"-").replace(RegExp("^[^\\p{L}]+","u"),"").replace(RegExp("[^\\p{L}.'’-]+$","u"),"").replace(/\u2019/g,"'").trim()}function ee(e){return/^[A-Z](?:\.[A-Z]+)*\.?$/.test(e)}function et(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.length||e.length>6)return!1;let a=e.filter((e,t)=>{let a=e.replace(/\.$/,"").toLowerCase();return!(t>0&&Z.has(a)&&e===e.toLowerCase())&&!ee(e)&&!(t>0&&G(a))});if(a.length>5)return!1;if(a.length<2){let r=e.some(e=>ee(e));if(!(t&&1===a.length&&r))return!1}return!(a.some(e=>U.has(e.toLowerCase()))||e.some(e=>/\d/.test(e))||a.every(e=>V.has(e.toLowerCase())))}function ea(e,t){var a,r,l;if(t>=e.length)return!1;let s=null!=(r=null==(a=e[t-1])?void 0:a.replace(/\.$/,""))?r:"",n=null!=(l=e[t])?l:"";if(!s||!n)return!1;let i=s.toLowerCase();return!G(i)&&(!!(Z.has(i)&&/^[A-ZÀ-ÖØ-Þ]/u.test(n))||RegExp("^[a-z][\\p{L}'’-]*$","u").test(s)&&/^[A-ZÀ-ÖØ-Þ]/u.test(n))}function er(e){return e.trim().split(/\s+/).filter(Boolean).map((e,t)=>{let a=e.normalize("NFKD").replace(RegExp("\\p{M}+","gu"),"").replace(/\u2019/g,"'").replace(/[.,]+$/g,""),r=a.toLowerCase();if(!a)return"";if(G(r))return r.startsWith("jr")?"Jr.":r.startsWith("sr")?"Sr.":a.toUpperCase();if(Z.has(r)&&t>0)return r;if(ee(a)||/^[a-z]$/i.test(a)){let e=a.replace(/\./g,"").toUpperCase();return e?"".concat(e.split("").join("."),"."):""}return a?a!==a.toUpperCase()&&a!==a.toLowerCase()?a:a.split("-").map(e=>e.split("'").map(e=>e?"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1).toLowerCase()):e).join("'")).join("-"):""}).filter(Boolean).join(" ")}function el(e){let t=e.replace(/^[,;|&\s]+/," ").replace(/^\s*and\s+/i," ").replace(/\s+/g," ").trim();if(!t)return null;let a=t.match(/^(.+?)\s+et\s+al\.?$/i);if(!a)return null;let r=er(a[1].replace(/[;,]+$/g,"").trim());return r?"".concat(r," et al."):null}let es={tutorial:/\b(tutorial|primer)\b/i,review:/\b(book review|review article|review essay|reflections and reviews|meta[- ]analysis|systematic review|literature review|survey)\b/i,commentary:/\b(commentary|counterpoint|discussion|dialogue|forum|rejoinder|response|reply|editorial|point-counterpoint|point)\b/i,note:/\b(research note|research notes|technical note|short communication|shorter paper|shorter papers|short research article|research report|invited research note|keynote address|keynote addresses|authors'? reply|author'?s reply)\b/i,researchArticle:/\b(research article|research articles|articles|article|original articles?|originalpaper|main articles|regular article|regular articles|regular|paper|invited research paper|additional articles|other articles|decade award invited article)\b/i,specialIssue:/\b(special issue|special research forum|special topic forum|thematic issue|special section)\b/i},en={tutorial:/\b(tutorial|primer)\b/i,review:/\b(book review|review article|review essay|meta[- ]analysis|systematic review|literature review|survey|state of the art|research prospects)\b/i,note:/\b(research note|technical note|research report|short communication|brief report|authors'? reply|author'?s reply|letter to)\b/i,commentary:/\b(commentary|editorial|editor'?s note|editor'?s comments|rejoinder|counterpoint|point-counterpoint|response|reply|forum|about our authors|research commentary|om forum)\b/i};function ei(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=Number.parseInt(String(e),10);return Number.isFinite(a)?a:t}function eo(e){return e.map(e=>{var t,a,r,l,s,n,i,o,c,u,d,m,h,p,x,f,g,b,w;let v=null!=(c=null==(t=e.title)?void 0:t.trim())?c:"",y=null!=(u=null==(a=e.abstract)?void 0:a.trim())?u:"",j=null!=(d=null==(r=e.author)?void 0:r.trim())?d:"",N=null!=(m=null==(l=e.journal)?void 0:l.trim())?m:"",M=null!=(h=e.keywords)?h:"",k=null!=(p=null==(s=e.type)?void 0:s.trim())?p:"",S=function(e,t,a,r){let l=String(null!=e?e:"").trim().toLowerCase().replace(/\s+/g," "),s="".concat(null!=t?t:""," ").concat(null!=a?a:"").toLowerCase();if(!l||"nan"===l||"n/a"===l||"na"===l||"none"===l||"-"===l)return H.has((null!=r?r:"").trim())?en.tutorial.test(s)?"Tutorial":en.note.test(s)?"Research Note / Short":en.commentary.test(s)?"Commentary / Forum / Debate":en.review.test(s)?"Review":"Research Article":"Unknown";return es.tutorial.test(l)?"Tutorial":es.note.test(l)?"Research Note / Short":es.commentary.test(l)?"Commentary / Forum / Debate":es.review.test(l)?"Review":es.specialIssue.test(l)||es.researchArticle.test(l)?"Research Article":"Other"}(k,v,y,N),C=function(e){if(null==e)return[];if(Array.isArray(e))return[...new Set(e.map(e=>String(e).trim().toLowerCase()).filter(Boolean))];let t=String(e).trim();if(!t||"nan"===t.toLowerCase()||"[]"===t)return[];let a=e=>[...new Set(e.map(e=>String(e).toLowerCase().trim()).map(e=>e.replace(/^['\"]|['\"]$/g,"").trim()).filter(Boolean))];if(t.startsWith("[")&&t.endsWith("]"))try{let e=JSON.parse(t);if(Array.isArray(e))return a(e)}catch(e){try{let e=JSON.parse(t.replace(/'/g,'"'));if(Array.isArray(e))return a(e)}catch(e){return a(t.slice(1,-1).split(/,(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/g))}}return a(t.split(/[;,|]/g))}(M),R=function(e){let t;if(!e)return[];let a=String(e).trim();if(!a||"nan"===a.toLowerCase())return[];let r=el(a);if(r&&!/[;|&]/.test(a))return[r];let l=(t=(t=a.normalize("NFKD").replace(RegExp("\\p{M}+","gu"),"").replace(/[\u2010-\u2015\u2212]/g,"-").replace(/\u2013|\u2014/g,"-").replace(/\s+/g," ").trim()).replace(/([A-Za-z])\.([A-ZÀ-ÖØ-Þ])/g,"$1 $2").replace(RegExp("\\b(".concat(q,")([A-Z\xc0-\xd6\xd8-\xde])"),"g"),"$1 $2"),W.forEach(e=>{t=t.replaceAll(e," | ")}),t=(t=t.replace(/https?:\/\/\S+/gi," ").replace(/orcid\.org\/\S+/gi," ").replace(/\S+@\S+/g," ").replace(/\bserved as associate editor for this article\b.*$/i," ").replace(/\bauthor notes?\b.*$/i," ").replace(/\s+/g," ").trim()).replace(RegExp("([\\p{Ll}])([A-Z\xc0-\xd6\xd8-\xde][\\p{L}'’.-]+\\s+(?:University|College|School|Department|Institute|Center|Centre|Faculty|Hospital|Campus|Program|Programme|Academy|Laboratory|Lab|Office))","gu"),"$1 ".concat(D," $2")).replace(RegExp("([\\p{L}'’.-])((?:University|College|School|Department|Institute|Center|Centre|Faculty|Hospital|Campus|Program|Programme|Academy|Laboratory|Lab|Office)\\b)","gu"),"$1 ".concat(D," $2")).replace(/\b(University|College|School|Department|Institute|Center|Centre|Faculty|Hospital|Campus|Program|Programme|Academy|Laboratory|Lab|Office)([A-Z][A-Za-zÀ-ÖØ-öø-ÿ'’.-]+)/g,"$1 $2").replace(/\s+/g," ").trim()).replace(/\s*(?:;|&|\|)\s*/g," | ").replace(/\s+/g," ").trim().split(/\s*\|\s*/).map(e=>e.replace(/^[,;|&\s]+/,"").replace(/^\s*and\s+/i,"").trim()).filter(Boolean),s=[];l.forEach(e=>{if(Y.test(e))return void s.push(e);e.replace(RegExp(",\\s+(?=".concat(q,"\\b)"),"gi"),", ").split(RegExp(",\\s+(?!".concat(q,"\\b)(?=[A-Z\xc0-\xd6\xd8-\xde])"),"g")).map(e=>e.trim()).filter(Boolean).forEach(e=>{let t=e.split(/\s+\band\b\s+/i).map(e=>e.trim()).filter(Boolean);s.push(...t)})});let n=new Set,i=[];return s.forEach(e=>{let t=el(e),a=null!=t?t:function(e){if(!e)return null;let t=e.replace(/\b(?:search for other works by this author(?: on:)?|search for more papers by this author)\b.*$/i," ").replace(/^[,;|&\s]+/," ").replace(/^\s*and\s+/i," ").replace(/\b(?:view all authors|see all authors|all authors)\b.*$/i," ").replace(/\([^)]*\)/g," ").replace(RegExp("([\\p{Ll}])([A-Z\xc0-\xd6\xd8-\xde])","gu"),"$1 $2").replace(/\s+/g," ").trim();t=t.replaceAll(D," ").replace(/\s+/g," ").trim();let a=Y.test(t);if(!(t=function(e){if(!Y.test(e))return e;let t=e.split(/\s+/),a=t.findIndex(e=>Y.test(e));return a<0?e:t.slice(0,a).join(" ").trim()}(t)))return null;let r=t.split(/\s+/).map(X).filter(Boolean),l=[];for(let e=0;e<r.length;e+=1){let t=r[e],a=t.replace(/\.$/,""),n=a.toLowerCase();if(U.has(n))break;if(!function(e){let t=e.replace(/\.$/,"");return!!t&&!!(G(t)||Z.has(t.toLowerCase())||ee(t)||RegExp("^[A-Z\xc0-\xd6\xd8-\xde][\\p{L}'’-]*$","u").test(t))}(t)){var s;let a=null!=(s=r[e+1])?s:"";if(!(l.length>0&&RegExp("^[a-z][\\p{L}'’-]*$","u").test(t)&&!U.has(n)&&/^[A-ZÀ-ÖØ-Þ]/u.test(a)))break}l.push(t.endsWith(".")?t:a)}for(;l.length;){let e=l[l.length-1].replace(/\.$/,""),t=e.toLowerCase();if(!(Z.has(t)&&e===e.toLowerCase()))break;l.pop()}if(!l.length)return null;if(l.length>=3&&l[0].replace(/\.$/,"").toLowerCase()===l[l.length-1].replace(/\.$/,"").toLowerCase()&&l.pop(),a&&l.length>2){for(let e=2;e<=Math.min(l.length,6);e+=1)if(!ea(l,e)&&et(l.slice(0,e),!1)){let t=e;l[t]&&G(l[t])&&(t+=1),l.splice(t);break}}if(l.length>=4&&l.length%2==0){let e=l.length/2;l.slice(0,e).join(" ")===l.slice(e).join(" ")&&l.splice(e)}let n=null;for(let e=2;e<=Math.min(l.length,6);e+=1){if(ea(l,e))continue;let t=l.slice(0,e);if(et(t,!1)){n=t;break}}if(!n)for(let e=2;e<=Math.min(l.length,6);e+=1){if(ea(l,e))continue;let t=l.slice(0,e);if(et(t,!0)){n=t;break}}if(!n)return null;if(l.length>n.length){let e=l[n.length];G(e)&&(n=[...n,e])}return n.join(" ")}(e);if(!a)return;let r=null!=t?t:er(a);if(!r)return;let l=r.toLowerCase();n.has(l)||(n.add(l),i.push(r))}),i}(j);return{year:ei(e.year),vol:String(null!=(x=e.vol)?x:"").trim(),iss:String(null!=(f=e.iss)?f:"").trim(),author:j,title:v,abstract:y,url:null!=(g=null==(n=e.url)?void 0:n.trim())?g:"",type:S,type_raw:k,type_main:S,journal:N,field:null!=(b=null==(i=e.field)?void 0:i.trim())?b:"",woke_score:ei(e.woke_score),keywords:String(null!=M?M:""),justification:null!=(w=null==(o=e.justification)?void 0:o.trim())?w:"",keywordsList:C,authorsList:R,searchText:"".concat(v," ").concat(y).toLowerCase()}})}function ec(e){var t;if(!e||/^(https?:)?\/\//.test(e)||e.startsWith("data:"))return e;let a=(null!=(t=T.env.NEXT_PUBLIC_BASE_PATH)?t:"").trim().replace(/\/+$/,"");return!a||!e.startsWith("/")||e===a||e.startsWith("".concat(a,"/"))?e:"".concat(a).concat(e)}async function eu(e){var t;let a=await fetch(ec(e));if(!a.ok)throw Error("Failed to fetch CSV from ".concat(e,": ").concat(a.status," ").concat(a.statusText));return t=await a.text(),eo(B().parse(t,{header:!0,skipEmptyLines:!0}).data)}async function ed(){var e,t;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/data/runtime_rows_manifest.json",r=await fetch(ec(a));if(!r.ok)throw Error("Failed to fetch runtime rows manifest: ".concat(r.status," ").concat(r.statusText));let l=await r.json(),s=null!=(t=l.schema)?t:[];if(!s.length||!(null==(e=l.files)?void 0:e.length))throw Error("Runtime rows manifest is missing schema or files.");let n=await Promise.all([...l.files].sort((e,t)=>e.year-t.year).map(async e=>{let t=await fetch(ec(e.path));if(!t.ok)throw Error("Failed to fetch runtime rows chunk ".concat(e.path,": ").concat(t.status," ").concat(t.statusText));return await t.json()})),i=[];return n.forEach(e=>{e.rows.forEach(e=>{i.push(function(e,t){let a={};return e.forEach((e,r)=>{var l;a[e]=null!=(l=t[r])?l:""}),a}(s,e))})}),eo(i)}var em=a(5959);let eh={yearRange:[2e3,2024],scoreRange:[1,10],journals:[],fields:[],types:[],textQuery:""},ep=(0,em.v)((e,t)=>({rawRows:[],filters:eh,authorMinPubs:5,selectedAuthor:null,selectedKeyword:"",selectedKeywordColor:"",selectedJournalForRanking:"",splitYear:2011,heatmapSortByMean:!1,smoothing:"none",fieldMode:"raw",journalMode:"raw",keywordMetric:"raw",wordCloudMode:"global",activeNav:"overview",loading:!1,error:"",setRows:a=>{var r,l;let s=a.map(e=>e.year),n=s.length?Math.min(...s):2e3,i=s.length?Math.max(...s):2024,o=null!=(l=null==(r=a[0])?void 0:r.journal)?l:"";e({rawRows:a,filters:{...t().filters,yearRange:[n,i],scoreRange:[1,10]},selectedJournalForRanking:o,error:""})},setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setFilters:a=>e({filters:{...t().filters,...a}}),resetFilters:()=>{let a=t().rawRows.map(e=>e.year),r=a.length?Math.min(...a):2e3,l=a.length?Math.max(...a):2024;e({filters:{...eh,yearRange:[r,l]}})},setAuthorMinPubs:t=>e({authorMinPubs:t}),setSelectedAuthor:t=>e({selectedAuthor:t}),setSelectedKeyword:t=>e({selectedKeyword:t}),setSelectedKeywordColor:t=>e({selectedKeywordColor:t}),setSelectedJournalForRanking:t=>e({selectedJournalForRanking:t}),setSplitYear:t=>e({splitYear:t}),setHeatmapSortByMean:t=>e({heatmapSortByMean:t}),setSmoothing:t=>e({smoothing:t}),setFieldMode:t=>e({fieldMode:t}),setJournalMode:t=>e({journalMode:t}),setKeywordMetric:t=>e({keywordMetric:t}),setWordCloudMode:t=>e({wordCloudMode:t}),setActiveNav:t=>e({activeNav:t})}));function ex(){let e=ep(),t=(0,l.useRef)(!1),a=(0,l.useRef)(e.activeNav);(0,l.useEffect)(()=>{t.current||e.rawRows.length||(t.current=!0,e.setLoading(!0),ed("/data/runtime_rows_manifest.json").then(t=>{if(!t.length)throw Error("Primary runtime JSON resolved to zero rows.");e.setRows(t)}).catch(()=>eu("/sample.csv").then(t=>{if(!t.length)throw Error("Sample dataset resolved to zero rows.");e.setRows(t)}).catch(()=>e.setError("Failed to load runtime JSON and /public/sample.csv."))).finally(()=>e.setLoading(!1)))},[e.rawRows.length,e.setError,e.setLoading,e.setRows]);let s=(0,l.useMemo)(()=>{if(!e.rawRows.length)return[2e3,2024];let t=e.rawRows.map(e=>e.year);return[Math.min(...t),Math.max(...t)]},[e.rawRows]),n=(0,l.useMemo)(()=>{let t=[...new Set(e.rawRows.map(e=>e.journal).filter(Boolean))].sort(),a=[...new Set(e.rawRows.map(e=>e.field).filter(Boolean))].sort(),r=new Map;e.rawRows.forEach(e=>{var t;let a=e.type.trim();a&&r.set(a,(null!=(t=r.get(a))?t:0)+1)});let l=[...r.entries()],s=l.filter(e=>{let[t]=e;return"Other"!==t}).sort((e,t)=>t[1]-e[1]||e[0].localeCompare(t[0])),n=l.find(e=>{let[t]=e;return"Other"===t});return n&&s.push(n),{journals:t,fields:a,types:s.map(e=>{let[t]=e;return{value:t,label:t}})}},[e.rawRows]),i=(0,l.useMemo)(()=>e.filters.fields.length?e.rawRows.filter(t=>e.filters.fields.includes(t.field)):e.rawRows,[e.rawRows,e.filters.fields]),c=(0,l.useMemo)(()=>new Set(i.map(e=>e.journal).filter(Boolean)),[i]),u=(0,l.useMemo)(()=>new Set(i.map(e=>e.type).filter(Boolean)),[i]),d=(0,l.useMemo)(()=>n.journals.map(t=>({value:t,label:t,disabled:e.filters.fields.length>0&&!c.has(t)})),[n.journals,e.filters.fields.length,c]),m=(0,l.useMemo)(()=>n.types.map(t=>({...t,disabled:e.filters.fields.length>0&&!u.has(t.value)})),[n.types,e.filters.fields.length,u]);(0,l.useEffect)(()=>{if(!e.filters.fields.length)return;let t=e.filters.journals.filter(e=>c.has(e)),a=e.filters.types.filter(e=>u.has(e));(t.length!==e.filters.journals.length||a.length!==e.filters.types.length)&&e.setFilters({journals:t,types:a})},[e.filters.fields.length,e.filters.journals,e.filters.types,c,u,e.setFilters]);let h=(0,l.useMemo)(()=>(function(e,t){let[a,r]=t.yearRange,[l,s]=t.scoreRange,n=t.textQuery.trim().toLowerCase(),i=new Set(t.journals),o=new Set(t.fields),c=new Set(t.types);return e.filter(e=>!(e.year<a)&&!(e.year>r)&&!(e.woke_score<l)&&!(e.woke_score>s)&&(!i.size||!!i.has(e.journal))&&(!o.size||!!o.has(e.field))&&(!c.size||!!c.has(e.type))&&(!n||!!e.searchText.includes(n))&&!0)})(e.rawRows,e.filters),[e.rawRows,e.filters]),f=(0,l.useMemo)(()=>[...new Set(h.map(e=>e.journal).filter(Boolean))].sort(),[h]),w=(0,l.useMemo)(()=>(function(e,t){let a=e.map(e=>e.woke_score).sort((e,t)=>e-t),r=a.length,l=r?a.reduce((e,t)=>e+t,0)/r:0,s=r?g(a,.5):0;return{rows:r,mean:l,median:s,selectedYears:"".concat(t.yearRange[0],"-").concat(t.yearRange[1]),selectedJournalsCount:t.journals.length,selectedFieldsCount:t.fields.length}})(h,e.filters),[h,e.filters]),v=(0,l.useMemo)(()=>(function(e){let t=new Map;return e.forEach(e=>{var a;let r=null!=(a=t.get(e.year))?a:[];r.push(e.woke_score),t.set(e.year,r)}),[...t.entries()].sort((e,t)=>e[0]-t[0]).map(e=>{let[t,a]=e,r=[...a].sort((e,t)=>e-t),l=r.length,s=r.reduce((e,t)=>e+t,0)/l,n=l>1?r.reduce((e,t)=>e+(t-s)**2,0)/(l-1):0,i=l>0?Math.sqrt(n)/Math.sqrt(l):0,o=Math.max(1,s-1.96*i),c=Math.min(10,s+1.96*i);return{year:t,count:l,mean:s,median:g(r,.5),p25:g(r,.25),p75:g(r,.75),p90:g(r,.9),ci95Low:o,ci95High:c}})})(h),[h]),y=(0,l.useMemo)(()=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[...new Set(e.map(e=>e.year))].sort((e,t)=>e-t),r=[...new Set(e.map(e=>e.journal).filter(Boolean))].sort(),l=new Map;e.forEach(e=>{var t;let a="".concat(e.journal,"__").concat(e.year),r=null!=(t=l.get(a))?t:{sum:0,count:0};r.sum+=e.woke_score,r.count+=1,l.set(a,r)});let s=r.map(e=>{let r=a.map(t=>{let a=l.get("".concat(e,"__").concat(t));return{year:t,value:a?a.sum/a.count:null}});if(!t)return{journal:e,points:r};let s=r.map(e=>e.value).filter(e=>null!==e),n=s.length?s.reduce((e,t)=>e+t,0)/s.length:0,i=Math.sqrt(s.length?s.reduce((e,t)=>e+(t-n)**2,0)/s.length:0)||1;return{journal:e,points:r.map(e=>({year:e.year,value:null===e.value?null:(e.value-n)/i}))}});return{years:a,series:s}})(h,"zscore"===e.journalMode),[h,e.journalMode]),k=(0,l.useMemo)(()=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[...new Set(e.map(e=>e.year))].sort((e,t)=>e-t),r=[...new Set(e.map(e=>e.field))].sort(),l=new Map;e.forEach(e=>{var t;let a="".concat(e.field,"__").concat(e.year),r=null!=(t=l.get(a))?t:{sum:0,count:0};r.sum+=e.woke_score,r.count+=1,l.set(a,r)});let s=r.map(e=>{let r=a.map(t=>{let a=l.get("".concat(e,"__").concat(t));return a?{year:t,value:a.sum/a.count}:{year:t,value:null}});if(!t)return{field:e,points:r};let s=r.map(e=>e.value).filter(e=>null!==e),n=s.length?s.reduce((e,t)=>e+t,0)/s.length:0,i=Math.sqrt(s.length?s.reduce((e,t)=>e+(t-n)**2,0)/s.length:0)||1;return{field:e,points:r.map(e=>({year:e.year,value:null===e.value?null:(e.value-n)/i}))}});return{years:a,series:s}})(h,"zscore"===e.fieldMode),[h,e.fieldMode]);return(0,l.useEffect)(()=>{let t=a.current;if("keywords"===e.activeNav&&"keywords"!==t){var r,l;let t=b(h,500),a=null!=(l=null==(r=t[0])?void 0:r.keyword)?l:"";e.setSelectedKeyword(a),e.setSelectedKeywordColor(_(0,Math.max(1,t.length)))}a.current=e.activeNav},[e.activeNav,h,e.setSelectedKeyword,e.setSelectedKeywordColor]),(0,r.jsxs)("main",{className:"mx-auto max-w-[1600px] p-4",children:[(0,r.jsx)(p,{active:e.activeNav,onChange:e.setActiveNav}),(0,r.jsxs)("div",{className:"grid gap-4 lg:grid-cols-[300px_minmax(0,1fr)]",children:[(0,r.jsx)(o,{filters:e.filters,years:s,journals:d,fields:n.fields,types:m,onFilters:e.setFilters,onReset:e.resetFilters}),(0,r.jsxs)("section",{children:[(0,r.jsx)(x,{...w}),e.loading&&(0,r.jsx)("div",{className:"panel mb-4 p-4",children:"Loading dataset..."}),e.error&&(0,r.jsx)("div",{className:"panel mb-4 border-red-200 p-4 text-red-700",children:e.error}),"overview"===e.activeNav&&(0,r.jsxs)("section",{className:"panel p-4",id:"overview",children:[(0,r.jsxs)("div",{className:"mb-3 flex flex-wrap items-center gap-3",children:[(0,r.jsx)("h3",{className:"section-title",children:"Overall Trend Chart"}),(0,r.jsxs)("select",{className:"select max-w-52",value:String(e.smoothing),onChange:t=>{let a="none"===t.target.value?"none":Number(t.target.value);e.setSmoothing(a)},children:[(0,r.jsx)("option",{value:"none",children:"No smoothing"}),(0,r.jsx)("option",{value:"3",children:"3-year MA"}),(0,r.jsx)("option",{value:"5",children:"5-year MA"})]})]}),(0,r.jsx)(j,{stats:v,smoothing:e.smoothing})]}),"journals"===e.activeNav&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("section",{className:"panel p-4",children:[(0,r.jsxs)("div",{className:"mb-3 flex flex-wrap items-center gap-3",children:[(0,r.jsx)("h3",{className:"section-title",children:"Journal Trend Comparison"}),(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("input",{type:"radio",checked:"raw"===e.journalMode,onChange:()=>e.setJournalMode("raw")}),"Raw"]}),(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("input",{type:"radio",checked:"zscore"===e.journalMode,onChange:()=>e.setJournalMode("zscore")}),"Z-score within journal"]})]}),(0,r.jsx)(M,{years:y.years,series:y.series,yLabel:"raw"===e.journalMode?"Mean woke score":"Z-score"})]}),(0,r.jsx)(L,{globalRows:h,journal:e.selectedJournalForRanking||f[0]||"",journals:f,onJournal:e.setSelectedJournalForRanking})]}),"fields"===e.activeNav&&(0,r.jsxs)("section",{className:"panel p-4",id:"fields",children:[(0,r.jsxs)("div",{className:"mb-3 flex flex-wrap items-center gap-3",children:[(0,r.jsx)("h3",{className:"section-title",children:"Discipline Trend Comparison"}),(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("input",{type:"radio",checked:"raw"===e.fieldMode,onChange:()=>e.setFieldMode("raw")}),"Raw"]}),(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("input",{type:"radio",checked:"zscore"===e.fieldMode,onChange:()=>e.setFieldMode("zscore")}),"Z-score within discipline"]})]}),(0,r.jsx)(N,{years:k.years,series:k.series,yLabel:"raw"===e.fieldMode?"Mean woke score":"Z-score"})]}),"authors"===e.activeNav&&(0,r.jsx)(S,{rows:h,minPubs:e.authorMinPubs,selectedAuthor:e.selectedAuthor,onMinPubs:e.setAuthorMinPubs,onSelectAuthor:e.setSelectedAuthor}),"keywords"===e.activeNav&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(P,{rows:h,onKeywordClick:(t,a)=>{e.setSelectedKeyword(t),e.setSelectedKeywordColor(a)}}),(0,r.jsx)(J,{rows:h,selectedKeyword:e.selectedKeyword,selectedKeywordColor:e.selectedKeywordColor,metric:e.keywordMetric,onKeyword:t=>{e.setSelectedKeyword(t),e.setSelectedKeywordColor("")},onMetric:e.setKeywordMetric,onYearClick:t=>e.setFilters({yearRange:[t,t]})})]})]})]})]})}}},e=>{e.O(0,[619,185,441,255,358],()=>e(e.s=1346)),_N_E=e.O()}]);